/* ===========================
   PERFORMANCE OPTIMIZATIONS
=========================== */

/* Smooth transitions for theme switching - Optimized to reduce re-renders */
body,
.navbar,
.glass-section,
.glass-card,
.btn,
.nav-link,
.footer,
.floating-btn,
.contact-info,
.contact-form,
.project-card,
.skill-category,
.cert-card,
.timeline-content {
  transition: background-color 0.3s ease, color 0.3s ease,
    border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Prevent layout shifts during font loading */
body {
  font-display: swap;
}

/* Reduce repaints by optimizing will-change */
.navbar,
.floating-controls,
.glass-section:hover,
.project-card:hover,
.btn:hover {
  will-change: auto;
}

/* Optimizar animaciones de scroll - Prevenir repaints */
section.animate,
.cert-card.animate,
.project-card.animate,
.timeline-item.animate,
.skill-item.animate,
.about-stat.animate {
  will-change: opacity, transform;
}

/* Remover will-change después de la animación */
section,
.cert-card,
.project-card,
.timeline-item,
.skill-item,
.about-stat {
  will-change: auto;
}

/* Loading states optimization - Sin parpadeo inicial */
body {
  opacity: 1;
  visibility: visible;
}

/* Activar transiciones suaves cuando las animaciones estén listas */
body.animations-ready {
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Prevent content shift during data loading */
.skill-progress {
  width: 0%;
  transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
}

.skill-progress.animated {
  transition-delay: 0.2s;
}

/* Elementos visibles por defecto - Sin parpadeo */
section,
.cert-card,
.project-card,
.timeline-item,
.skill-item,
.about-stat {
  opacity: 1;
  transform: translateY(0);
}

/* Solo aplicar animación suave cuando se marca como .animate */
section.animate,
.cert-card.animate,
.project-card.animate,
.timeline-item.animate,
.skill-item.animate,
.about-stat.animate {
  animation: fadeInUp 0.4s ease-out;
}

/* Keyframe optimizado - Movimiento más sutil */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Optimize counter animations */
.stat-number,
.stat h3 {
  transition: none;
  backface-visibility: hidden;
}

/* Reduce layout thrashing */
.skill-item,
.timeline-item,
.cert-card,
.project-card {
  contain: layout style;
}
